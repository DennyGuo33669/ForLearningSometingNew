# 4.1.2 复制变量值

基本类型和引用类型 除了保存方式不同,复制时也不同

一个变量向另一个变量复制**基本类型**,会在变量对象上创建一个新值,然后再把该值复制到为新变量分配的位置上

``` js .line-numbers
var num1 = 5;
var num2 = num1;
```

`num1`和`num2`的值各自是完全独立的,互不会影响.

复制前
|       |               |
| :---: | :-----------: |
|       |               |
| num1  | 5(Number类型) |

复制后
|      |               |
| ---- | ------------- |
| num2 | 5(Number类型) |
| num1 | 5(Number类型) |

---------------------

一个变量向另一个变量复制**引用类型**,同样也会将存储在变量对象中的值复制一份到为新变量分配的空间中,但这个值的副本实际上是一个指针,而这个指针指向存储在堆中的一个对象.复制操作结束后,两个变量实际上将引用同一个对象.

因此改变其中一个变量,会影响另一个变量

``` js .line-numbers
var obj1 = new Object();
var obj2 = obj1;
obj1.name = 'Emma';
console.log(obj2.name);
```

`obj1`和`obj2`会互相影响

复制前
|       |                  |
| :---: | :--------------: |
|       |                  |
| obj1  | Emma(Object类型) |

复制后
|      |                  |
| ---- | ---------------- |
| obj2 | Emma(Object类型) |
| obj1 | Emma(Object类型) |

堆内存
|                  |                  |              |
| ---------------- | ---------------- | ------------ |
| obj1 & obj2 ---> | Emma(Object类型) | (Object类型) |
|                  | (Object类型)     | (Object类型) |
